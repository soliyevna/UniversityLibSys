@using UniversityLibrarySystem.Domain.Entites

@model Author;

@{
    ViewBag.Title = "Create";
}
<div class="container">
    <div class="row justify-content-center mt-5">
        <div class="col-md-6">
            <form id="authorForm" asp-controller="Author" asp-action="Create" method="post" class="needs-validation" novalidate>
                <div class="mb-3">
                    <label for="name" class="form-label">Name</label>
                    <input type="text" class="form-control" id="name" name="Name" placeholder="Enter the author's name:" maxlength="100" required>
                    <div class="invalid-feedback">
                        Please provide a name (maximum length 100 characters).
                    </div>
                </div>
                <div class="mb-3">
                    <label for="biography" class="form-label">Biography</label>
                    <input type="text" class="form-control" id="biography" name="Biography" placeholder="Enter the author's biography:" maxlength="250" required>
                    <div class="invalid-feedback">
                        Please provide an address (maximum length 250 characters).
                    </div>
                </div>
                <button class="btn btn-primary" type="submit" disabled>Save author info</button>
            </form>
        </div>
    </div>
</div>

<script>
    // Enable submit button only if form is valid
    var form = document.getElementById('authorForm');
    form.addEventListener('input', function () {
        var isValid = form.checkValidity();
        document.querySelector('button[type="submit"]').disabled = !isValid;
    });

    // Add character limit feedback for input fields with maxlength attribute
    var inputs = document.querySelectorAll('input[maxlength]');
    inputs.forEach(function (input) {
        var charLimitFeedback = input.parentNode.querySelector('.char-limit-feedback');
        input.addEventListener('input', function () {
            charLimitFeedback.style.display = input.value.length > input.maxLength ? 'block' : 'none';
        });
    });
</script>